<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fanxb.bookmark.business.bookmark.dao.BookmarkDao">


    <insert id="insertOne" useGeneratedKeys="true" keyColumn="bookmarkId" keyProperty="bookmarkId">
        insert into bookmark(userId,path,type,name,url,icon,sort,addTime,createTime)
        value
        ( #{userId},#{path},#{type},#{name},
        <if test="url == null">
            "","",
        </if>
        <if test="url != null">
            #{url},#{icon},
        </if>
        #{sort},#{addTime},#{createTime})
    </insert>

    <select id="selectIdByUserIdAndNameAndPath" resultType="java.lang.Integer">
        select bookmarkId
        from bookmark
        where userId = #{userId} and path = #{path} and name = #{name};
    </select>

    <select id="selectMaxSort" resultType="java.lang.Integer">
        select max(sort)
        from bookmark
        where userId = #{userId} and path = #{path}
    </select>


</mapper>